<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Tester</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1 class="title">Typing Speed Tester Pro</h1>
            <p class="subtitle">Advanced typing practice with comprehensive analytics</p>
        </header>

        <!-- Settings Panel -->
        <div class="settings-panel">
            <div class="settings-group">
                <label for="difficulty">Difficulty:</label>
                <select id="difficulty" name="difficulty">
                    <option value="easy">Easy (Simple words)</option>
                    <option value="medium" selected>Medium (Mixed content)</option>
                    <option value="hard">Hard (Complex text)</option>
                    <option value="programming">Programming (Code snippets)</option>
                </select>
            </div>
            <div class="settings-group">
                <label for="duration">Test Duration:</label>
                <select id="duration" name="duration">
                    <option value="30">30 seconds</option>
                    <option value="60" selected>1 minute</option>
                    <option value="120">2 minutes</option>
                    <option value="300">5 minutes</option>
                </select>
            </div>
            <div class="settings-group">
                <label for="category">Text Category:</label>
                <select id="category" name="category">
                    <option value="general" selected>General</option>
                    <option value="literature">Literature</option>
                    <option value="technology">Technology</option>
                    <option value="quotes">Famous Quotes</option>
                    <option value="news">News Articles</option>
                </select>
            </div>
            <div class="settings-group">
                <label for="soundEnabled">Sound Effects:</label>
                <input type="checkbox" id="soundEnabled" name="soundEnabled" checked>
            </div>
        </div>

        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">WPM</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accuracy">100</div>
                <div class="stat-label">Accuracy %</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timer">60</div>
                <div class="stat-label">Time Left</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="errors">0</div>
                <div class="stat-label">Errors</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="streak">0</div>
                <div class="stat-label">Best Streak</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="level">1</div>
                <div class="stat-label">Level</div>
            </div>
        </div>

        <div class="text-display" id="textDisplay">
            Click "Start Test" to begin typing the text that will appear here. The test will measure your words per minute and accuracy.
        </div>

        <div class="input-section">
            <textarea 
                id="textInput" 
                placeholder="Click 'Start Test' and start typing here..."
                disabled
                rows="4"
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false"
                data-gramm="false"
                data-enable-grammarly="false"
            ></textarea>
        </div>

        <div class="controls">
            <button id="startBtn" class="btn btn-primary">Start Test</button>
            <button id="resetBtn" class="btn btn-secondary">Reset</button>
            <button id="historyBtn" class="btn btn-info">View History</button>
        </div>

        <!-- Progress History Panel -->
        <div class="history-panel hidden" id="historyPanel">
            <h3>Performance History</h3>
            <div class="history-stats">
                <div class="history-item">
                    <span class="history-label">Tests Taken:</span>
                    <span class="history-value" id="totalTests">0</span>
                </div>
                <div class="history-item">
                    <span class="history-label">Best WPM:</span>
                    <span class="history-value" id="bestWPM">0</span>
                </div>
                <div class="history-item">
                    <span class="history-label">Average WPM:</span>
                    <span class="history-value" id="avgWPM">0</span>
                </div>
                <div class="history-item">
                    <span class="history-label">Best Accuracy:</span>
                    <span class="history-value" id="bestAccuracy">0%</span>
                </div>
            </div>
            <div class="recent-tests">
                <h4>Recent Test Results</h4>
                <div id="recentTestsList" class="test-results-list">
                    <!-- Recent test results will be populated here -->
                </div>
            </div>
            <button class="btn btn-secondary" id="closeHistoryBtn">Close</button>
        </div>

        <div class="results hidden" id="results">
            <h3>Test Complete</h3>
            <div class="result-stats">
                <div class="result-item">
                    <span class="result-label">Words Per Minute:</span>
                    <span class="result-value" id="finalWPM">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Accuracy:</span>
                    <span class="result-value" id="finalAccuracy">100%</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Errors:</span>
                    <span class="result-value" id="finalErrors">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Characters Typed:</span>
                    <span class="result-value" id="finalChars">0</span>
                </div>
            </div>
            
            <!-- Error Analysis -->
            <div class="error-analysis" id="errorAnalysis">
                <h4>Error Analysis ðŸ“Š</h4>
                <div class="error-details">
                    <div class="common-errors">
                        <h5>Most Common Mistakes:</h5>
                        <ul id="commonErrorsList"></ul>
                    </div>
                    <div class="problem-keys">
                        <h5>Problem Keys:</h5>
                        <div id="problemKeysList"></div>
                    </div>
                </div>
            </div>
            
            <!-- Speed Comparison with World Records -->
            <div class="speed-comparison" id="speedComparison">
                <!-- Speed comparison will be populated here -->
            </div>
            
            <!-- Achievement System -->
            <div class="achievements" id="achievements">
                <!-- Achievements will be populated here -->
            </div>
        </div>

        <!-- Sound Effects (hidden audio elements) -->
        <audio id="successSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEVQQ==" type="audio/wav">
        </audio>
        <audio id="errorSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRv4CAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdoCAAC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA" type="audio/wav">
        </audio>
        <audio id="completionSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRjIEAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQ4EAAA=" type="audio/wav">
        </audio>
    </div>

    <script src="script.js"></script>
</body>
</html>
